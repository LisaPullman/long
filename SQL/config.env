# VanMart 数据库配置示例
# Database Configuration Example for VanMart

# ==========================================
# 开发环境配置 (Development)
# ==========================================

# PostgreSQL 连接字符串
DATABASE_URL="postgresql://vanmart:vanmart123@localhost:5432/vanmart?schema=public"

# 数据库基本配置
DB_HOST=localhost
DB_PORT=5432
DB_USER=vanmart
DB_PASSWORD=vanmart123
DB_NAME=vanmart
DB_SCHEMA=public

# ==========================================
# 连接池配置 (Connection Pool)
# ==========================================

# 最小连接数
DATABASE_POOL_MIN=2

# 最大连接数
DATABASE_POOL_MAX=10

# 连接空闲超时时间(毫秒)
DATABASE_POOL_IDLE=10000

# 连接获取超时时间(毫秒)
DATABASE_POOL_ACQUIRE_TIMEOUT=30000

# 空闲连接多久后被关闭(毫秒)
DATABASE_POOL_IDLE_TIMEOUT=600000

# ==========================================
# 日志配置 (Logging)
# ==========================================

# 数据库查询日志级别: debug|info|warn|error
DATABASE_LOG_LEVEL=info

# 是否打印SQL语句
DATABASE_LOG_QUERIES=true

# 打印执行时间超过此阈值的查询(毫秒)
DATABASE_SLOW_QUERY_THRESHOLD=1000

# ==========================================
# 备份配置 (Backup)
# ==========================================

# 备份目录
BACKUP_DIR=./backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 每天备份时间(HH:MM)
BACKUP_TIME=02:00

# ==========================================
# 生产环境配置 (Production)
# ==========================================
# 注意：生产环境应使用强密码和环境变量，不应提交到版本控制

# DATABASE_URL="postgresql://produser:STRONG_PASSWORD@prod-db-host:5432/vanmart_prod?schema=public&sslmode=require"
# DATABASE_POOL_MIN=5
# DATABASE_POOL_MAX=20
# DATABASE_LOG_LEVEL=warn
# DATABASE_LOG_QUERIES=false

# ==========================================
# Prisma 配置 (Prisma ORM)
# ==========================================

# Prisma 生成客户端的位置
PRISMA_SCHEMA=prisma/schema.prisma

# 生成的 Prisma Client 位置
PRISMA_CLIENT_GENERATION_ENGINE=binary

# ==========================================
# 测试环境配置 (Testing)
# ==========================================
# TEST_DATABASE_URL="postgresql://vanmart:vanmart123@localhost:5432/vanmart_test?schema=public"
